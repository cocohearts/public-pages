<!doctype html>
<html>
    <head>
                <title>UDL   Week 6 - Alex Zhao's Public Pages</title>

            <meta charset="utf-8">
            <meta http-equiv="X-UA-Compatible" content="IE=edge">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">

            
            
            

            
                <link  rel="icon" type="image/x-icon" href="../../../../../../assets/img/favicon.ico">
            
                    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
                        <script>hljs.initHighlightingOnLoad();</script>
            <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
            <link rel="stylesheet" href="../../../../../../assets/css/bootstrap.min.css">
            <link rel="stylesheet" href="../../../../../../assets/css/main.min.css">
                <link href="../../../../../../extra.css" rel="stylesheet">
                <script src="../../../../../../extra.js"></script>
                <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
                <script src="../../../../../../search/main.js"></script>

            
                
                     <style>:root {--text: var(--color-white);}</style> 
                     <style>:root {--title: var(--color-orange);}</style> 
                     <style>:root {--primary: var(--color-orange);}</style> 
                     <style>:root {--background: var(--color-black);}</style> 
                
            
    </head>

    <body>
        <div class="container py-3">
            <header>
                    <!-- block header -->
<nav class="navbar navbar-expand-xl border-bottom">
    <div class="container-fluid">
        

        
            <span class=" fs-4 title-color site-name" id="component-site-name" style="text-transform: uppercase;">Alex Zhao's Public Pages</span>
        

        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarsMenu"
            aria-controls="navbarsMenu" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse flex-column ml-auto" id="navbarsMenu">
            <ul class="navbar-nav">

                <!-- block menu -->
                <li class="nav-item">
                    <!-- block menu -->
    
        <li class="nav-item" id="component-menu">
            <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="
                            nav-link text-gray text-decoration-none" href="../../../../../../Public Pages/homepage.md">[Welcome]</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="
                            nav-link dropdown-toggle text-decoration-none" href="#" data-bs-toggle="dropdown">[Crypto]</a>
                            <ul class="dropdown-menu">
                                    <!-- block dropdown-menu -->
    <li>
        <a href="../../../Crypto/Proving%20Systems%20%28Plonky3%2C%20Halo2%2C%20Circle%20STARKs%2C%20Binius%29/" class="dropdown-item text-decoration-none ">ZK Notes</a>
    </li>
<!-- endblock -->
                            </ul>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="
                            nav-link dropdown-toggle text-decoration-none" href="#" data-bs-toggle="dropdown">[Coding]</a>
                            <ul class="dropdown-menu">
                                    <!-- block dropdown-menu -->
    <li>
        <a href="../../../Vim%20Tricks/" class="dropdown-item text-decoration-none ">Vim Tricks</a>
    </li>
<!-- endblock -->
                                    <!-- block dropdown-menu -->
    <li>
        <a href="../../../USACO/General%20Thoughts%2C%20Paradigms/" class="dropdown-item text-decoration-none ">USACO Notes</a>
    </li>
<!-- endblock -->
                            </ul>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="
                            nav-link dropdown-toggle text-decoration-none" href="#" data-bs-toggle="dropdown">[Food and Cooking]</a>
                            <ul class="dropdown-menu">
                                    <!-- block dropdown-menu -->
    <li>
        <a href="../../../../../Food%2BCooking/%E5%AE%B6%E5%B8%B8%E8%8F%9C%E8%B0%B1/%E7%B3%96%E9%86%8B%E6%8E%92%E9%AA%A8/" class="dropdown-item text-decoration-none ">糖醋排骨</a>
    </li>
<!-- endblock -->
                            </ul>
                        </li>
            </ul>
        </li>
<!-- endblock -->
                </li>
                <!-- endblock -->

                <!-- block search -->
                <li class="nav-item">
                    <a class="collapsed" data-bs-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false" aria-controls="collapseExample">
                        <div class="md-search-icon">
                            <i class="fa fa-search" aria-hidden="true"></i>
                        </div>
                    </a>
                </li>
                <!--  endblock -->

                <!-- block source -->
                <li class="nav-item">
                    
                </li>
                <!--  endblock -->
            </ul>
        </div>
    </div>
</nav>
<!--  endblock -->
            </header>

            <main><!-- block search -->
<div class="collapse" id="collapseExample">
    <div role="search" class="search-box">
        <form id="rtd-search-form" class="wy-form" action="../../../../../../search.html" method="get">
            <input type="text" name="q" class="search-query"
            placeholder="Search docs" title="Type search term here" />
        </form>
    </div>
</div>
<!-- endblock -->
                    <!-- block content -->
<section class="container post">
    <article>
        <header>
            
                <h1 class=" title" id="component-title">UDL   Week 6</h1>
            
        </header>
        <p><h2 id="chap-11-residual-networks">Chap 11: Residual Networks</h2>
<h3 id="residual-blocks">Residual blocks</h3>
<p>so convnet is pretty good, and deep networks are pretty good
but really deep networks have "shattered gradients" aka multiple orders of derivative have high Lipschitz
so we introduce "residual blocks," aka taking
$$h_3=f(h_2,\phi)+h_2.$$
Then after a bunch of composition, the final expression is
$$h_n=f(h_{n-1})+f(h_{n-2})+\dots+h_1.$$
In other words, residual networks are actually, more realistically, an ensemble of correlated shallow networks, each of which take different "short" paths through the network.</p>
<h3 id="batchnorm">Batchnorm</h3>
<p>Each hidden node activation $h_i$ gets rescaled. Inside of the batch, take the statistical mean and variance, and then rescale so it has mean $\sigma_i$ and variance $\gamma_i$. Then make $\sigma_i,\gamma_i$ additional learned parameters for each node.</p>
<p>After training and before testing, take statistical parameters across the entire training dataset and "lock them in."</p>
<p>In theory this helps because it lets us directly control/regularize for mean/variance at nodes that might otherwise be hard to control.</p>
<h4 id="batchnorm-variants-ghostnorm-layernorm-groupnorm-instancenorm">Batchnorm Variants: Ghostnorm, Layernorm, Groupnorm, Instancenorm</h4>
<ul>
<li>Ghostnorm: take some samples from this batch randomly</li>
<li>Layernorm: go instance by instance, taking samples from this entire layer, as opposed to from the whole batch (better for text/images sometimes)</li>
<li>Groupnorm: Normalize within groups of channels, as opposed to by layers of channels</li>
<li>Instancenorm: normalize within each channel separately, taking stats only from pixels in that one channel</li>
</ul>
<h3 id="u-nets-hourglass">U-Nets, Hourglass</h3>
<p>Take the convolutional encoder/decoder from last time, but now make it residual. Specific properties may have been lost through the "compression" in the middle, so when re-upscaling, concatenate the "original image" with the same resolution from the other side before mapping. If only valid convolutions are taken then cropping is necessary.
Iterate this several times for "stacked hourglass networks".</p>
<h2 id="chap-12-transformers">Chap 12: Transformers !!</h2>
<h3 id="premise">Premise</h3>
<ul>
<li>Long input sequence of long vectors</li>
<li>Sequence of vectors out that carry information in some way</li>
</ul>
<h3 id="desirable-properties">Desirable Properties</h3>
<ul>
<li>Works no matter sequence length</li>
<li>Inputs can talk to each other/interact with each other/determine each other's "context"</li>
</ul>
<h3 id="basic-implementation">Basic Implementation</h3>
<p>Matrices $\Omega_k,\Omega_q,\Omega_v$ for key, query, value
1. $\Omega_v$ maps input vectors to their <em>values</em>
2. $\Omega_q,\Omega_v$ maps input vectors to their <em>key</em> embeddings and <em>query</em> embeddings
3. Final embedding of input $x_i$ is softmax <em>linear combination</em> of values $v_i$ determined by <em>dot product</em> $k_j\cdot q_i$</p>
<p>Position can be encoded by adding to the inputs</p>
<p>In matrix form:
- $X$ has input as column values
- Matrices for values, keys, queries being $\Omega_i X$
- As a reminder: 
    - $X\colon \mathbb{R}^N\to \mathbb{R}^D$ with $N$ inputs, embedding length $D$
    - $\Omega_i\colon \mathbb{R}^D\to\mathbb{R}^l$ mapping to key/query vectors with length $l$
- Attention coeffs are $A=softmax_col(K^TQ)$
- Final output is $V\cdot A$</p>
<p>We can do <em>multihead</em> meaning several such transformers are running at once. </p>
<p>A normal transformer <em>layer</em> is
![[Pasted image 20240324220323.png]]
Finally, we train GPT3 using <em>encoder-decoder</em>.
![[Pasted image 20240324220421.png]]
We can train GPT3 very cheaply and unsupervised-ly:
![[Pasted image 20240324220524.png]]
Anddd that's it.</p></p>
    </article>
</section>
<!-- endblock -->
            </main>

            
                    <!-- block preview -->
<!-- endblock -->
            

            
                    <!-- block footer -->
<footer class="pt-4 my-md-5 pt-md-5 border-top" id="component-footer">
    <div class="row">
        <div class="col-12 col-md">
                <!-- block copyright -->

    <small class="d-block mb-3">
        Made with
        <a href="https://github.com/FernandoCelmer/mkdocs-simple-blog" target="_blank" rel="noopener">
            Simple Blog for MkDocs
        </a>
    </small>

<!-- endblock -->
        </div>
    </div>
</footer>
<!-- endblock -->
            
        </div>

            <script>var base_url = '../../../../../..';</script>
            <script src="../../../../../../assets/js/jquery-3.3.1.slim.min.js""></script>
            <script src="../../../../../../assets/js/bootstrap.bundle.min.js""></script>
            <script src="../../../../../../assets/js/main.min.js""></script>
                <script src="../../../../../../extra.js" defer></script>
                <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" defer></script>
                <script src="../../../../../../search/main.js" defer></script>

    </body>

</html>