Okay, just finished reading Redis version 1.3.6 with ekzhang's NYSRG. Some of the things that I learned are... This person put an entire database, socket, query, protocol, all in basically a single 9000 C file with a bunch of internalizers. So, there's a picture of the server that will probably be placed here. But, basically it just has all the pieces that you need just put together, wrapped together. So, it supports virtual memory, so you can swap from memory onto disk. It supports flushing memory onto disk. It supports what's called RDB, Redis Database. So, it will just copy everything to disk periodically. It holds the entire database in memory, which is kind of weird. I suppose that's what makes it kind of easy slash small in the sense that it can be stored entirely in a 9000-line C file because everything is just kind of done in memory. Also, relative to its 2010 launch, it had the innovation of supporting lists, sets, large datasets. I guess this time reading code, I learned about paying attention to structs and paying attention to config files and comments. The comments in the config files can kind of direct your attention as to what to pay attention to. In particular, when trying to dissect large libraries, the important thing is to figure out which structs and methods are important and then frame your intuition around those structs. Create a mental model that frames around some key elements and then fill in details one at a time when reading other methods.

file:///Users/alex-zhao/Coding/assorted/redis/doc/README.html
![[Pasted image 20240707205010.png]]